{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/semiloreoshiyoye/Desktop/unibuddy/app/dashboard/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { UserButton } from '@clerk/nextjs';\n\nexport default function Dashboard() {\n  const [files, setFiles] = useState<File[]>([]);\n  const [tasks, setTasks] = useState<any[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  // Handle file selection\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (e.target.files) {\n      setFiles(Array.from(e.target.files).slice(0, 6));\n    }\n  };\n\n  // Parse PDFs\n  const handleParse = async () => {\n    if (files.length === 0) return;\n\n    setLoading(true);\n    setError('');\n\n    const formData = new FormData();\n    files.forEach(file => formData.append('files', file));\n\n    try {\n      const res = await fetch('/api/parse', {\n        method: 'POST',\n        body: formData,\n      });\n\n      const data = await res.json();\n\n      if (!res.ok) {\n        throw new Error(data.error || 'Parsing failed');\n      }\n\n      setTasks(data.tasks || []);\n    } catch (err: any) {\n      setError(err.message);\n    }\n\n    setLoading(false);\n  };\n\n  // Download ICS dynamically from tasks\n  const handleDownloadICS = async () => {\n    if (!tasks.length) return;\n\n    try {\n      const res = await fetch('/api/calendar', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ tasks }),\n      });\n\n      if (!res.ok) {\n        throw new Error('Failed to generate calendar');\n      }\n\n      const blob = await res.blob();\n      const url = URL.createObjectURL(blob);\n\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = 'unibuddy-calendar.ics';\n      a.click();\n\n      URL.revokeObjectURL(url);\n    } catch (err: any) {\n      setError(err.message);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-purple-900 via-indigo-900 to-purple-900 p-8\">\n      <div className=\"max-w-5xl mx-auto\">\n\n        {/* Header */}\n        <div className=\"flex justify-between items-center mb-8\">\n          <h1 className=\"text-4xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent\">\n            Unibuddy Dashboard\n          </h1>\n          <UserButton />\n        </div>\n\n        {/* Upload Section */}\n        <div className=\"bg-white/10 backdrop-blur-xl rounded-2xl p-8 mb-8 border border-white/20\">\n          <h2 className=\"text-2xl font-bold mb-4 text-white\">\n            Upload Syllabi (1â€“6 PDFs)\n          </h2>\n\n          <input\n            type=\"file\"\n            multiple\n            accept=\".pdf,.docx\"\n            onChange={handleFileChange}\n            className=\"file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-purple-600 file:text-white hover:file:bg-purple-700 w-full max-w-md px-4 py-6 border-2 border-dashed border-white/30 rounded-xl text-white placeholder-white/50 focus:outline-none focus:border-purple-400 transition-colors\"\n          />\n\n          {/* Selected Files */}\n          <div className=\"mt-4 space-y-2\">\n            {files.map((file, i) => (\n              <div key={i} className=\"flex justify-between text-sm text-white/80\">\n                <span>{file.name}</span>\n                <button\n                  onClick={() =>\n                    setFiles(files.filter((_, idx) => idx !== i))\n                  }\n                  className=\"text-red-400 hover:text-red-300\"\n                >\n                  âœ•\n                </button>\n              </div>\n            ))}\n          </div>\n\n          <button\n            onClick={handleParse}\n            disabled={loading || files.length === 0}\n            className=\"mt-6 w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 disabled:opacity-50 text-white font-bold py-4 px-8 rounded-xl text-lg transition-all duration-200 shadow-lg hover:shadow-xl\"\n          >\n            {loading ? 'Parsing...' : `Parse ${files.length} File${files.length > 1 ? 's' : ''}`}\n          </button>\n        </div>\n\n        {/* Error Display */}\n        {error && (\n          <div className=\"bg-red-500/20 border border-red-500/50 text-red-200 p-4 rounded-xl mb-6\">\n            {error}\n          </div>\n        )}\n\n        {/* Tasks Table */}\n        {tasks.length > 0 && (\n          <div className=\"bg-white/10 backdrop-blur-xl rounded-2xl p-8 border border-white/20\">\n            <div className=\"flex justify-between items-center mb-6\">\n              <h2 className=\"text-2xl font-bold text-white\">\n                ðŸ“‹ Priority Tasks ({tasks.length})\n              </h2>\n\n              <button\n                onClick={handleDownloadICS}\n                className=\"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-6 rounded-xl transition-all\"\n              >\n                ðŸ“… Export .ICS\n              </button>\n            </div>\n\n            <div className=\"overflow-x-auto\">\n              <table className=\"w-full text-white\">\n                <thead>\n                  <tr className=\"border-b border-white/20\">\n                    <th className=\"p-4 text-left font-bold\">Priority</th>\n                    <th className=\"p-4 text-left font-bold\">Title</th>\n                    <th className=\"p-4 text-left font-bold\">Course</th>\n                    <th className=\"p-4 text-left font-bold\">Date</th>\n                    <th className=\"p-4 text-left font-bold\">Notes</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {tasks.map((task, i) => (\n                    <tr\n                      key={i}\n                      className=\"border-b border-white/10 hover:bg-white/10 transition-colors\"\n                    >\n                      <td className=\"p-4\">\n                        <span\n                          className={`px-3 py-1 rounded-full text-xs font-bold ${\n                            task.priority === 1\n                              ? 'bg-red-500'\n                              : task.priority === 2\n                              ? 'bg-orange-500'\n                              : 'bg-green-500'\n                          }`}\n                        >\n                          P{task.priority}\n                        </span>\n                      </td>\n                      <td className=\"p-4 font-medium\">{task.title}</td>\n                      <td className=\"p-4\">{task.course}</td>\n                      <td className=\"p-4\">{task.date}</td>\n                      <td className=\"p-4 text-sm opacity-90\">\n                        {task.notes}\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          </div>\n        )}\n\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 371, "column": 0}, "map": {"version":3,"sources":["file:///Users/semiloreoshiyoye/Desktop/unibuddy/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0]}}]
}